@page "/login"
@using MotorShop.Front.Models;

<PageTitle>Motors Shop - Login</PageTitle>

<div class="d-flex flex-column gap-2 w-100 bg-white px-3 py-4 border border-white rounded-3">
    <h1>Login</h1>
    <EditForm Model="@loginModel" OnValidSubmit="@HandleSubmit">
        <DataAnnotationsValidator/>
        <div class="d-flex flex-column gap-2 w-100 mb-3">
            <label>Email</label>
            <input class="p-2 border border-2 rounded-3" type="text" placeholder="Digite seu email" @bind-value="loginModel.EmailAddress" />
            <ValidationMessage For="@(() => loginModel.EmailAddress)"/>
        </div>
        <div class="d-flex flex-column gap-2 w-100 mb-3">
            <label>Senha</label>
            <input class="p-2 border border-2 rounded-3" type="password" placeholder="Digite sua senha" @bind-value="loginModel.Password"/>
            <ValidationMessage For="@(() => loginModel.Password)"/>
        </div>
        <div class="d-flex justify-content-end mb-3">
            <button class="border border-0 bg-white" type="button" @onclick="RecoverPasswordModal">Esqueci minha senha</button>
        </div>

        <button class="w-100 text-center bg-primary border border-0 rounded-3 py-2 text-white fs-3" type="submit">Entrar</button>
        <p class="text-black-50 fs-5 text-center py-4">Ainda não possui conta?</p>
        <a class="text-decoration-none w-100 text-center bg-white border border-2 rounded-3 py-2 text-black-50 fs-3" type="submit" href="/register">Cadastrar</a>
    </EditForm>

</div>

@code {
    private LoginModel loginModel = new LoginModel();

    private void HandleSubmit()
    {   
        Console.WriteLine($"Email: {loginModel.EmailAddress}");
        Console.WriteLine($"Senha: {loginModel.Password}");
    }

    private void RecoverPasswordModal()
    {
        Console.WriteLine("Abrir modal de recuperação de senha");
    }
}
